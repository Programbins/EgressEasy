# Backend

## 1. 역할

이 디렉터리는 EgressEasy 시스템의 핵심 두뇌 역할을 하는 백엔드 서버의 모든 코드를 포함합니다. 사용자의 눈에 직접 보이지는 않지만, 서비스의 모든 핵심 로직을 처리하고 데이터를 관리하며 외부 시스템과 연동합니다.

## 2. 주요 기능

- **API 서버 운영 (Node.js / Express.js)**
  - 프론트엔드(캡티브 포털, 클라이언트 앱)의 요청을 받아 처리하고, 필요한 데이터를 응답으로 보내주는 RESTful API를 제공합니다.

- **위치 판별 로직**
  - 사용자가 접속한 SSID/VLAN 정보를 분석하여, 사전에 정의된 Zone 매핑 테이블을 통해 현재 위치(비상구)를 특정합니다.

- **데이터베이스 관리**
  - 중앙 데이터베이스(DB)와 통신하며 사용자 정보, 기기 식별자, 비상구 안내 시청 이력 등을 저장, 조회, 갱신합니다.
  - 재방문 사용자인지 여부를 판별하여 안내를 건너뛸지 결정하는 로직을 수행합니다.

- **네트워크 컨트롤러 연동 (예: Omada API)**
  - TP-Link Omada와 같은 네트워크 컨트롤러의 API와 연동하여, 실시간으로 클라이언트 접속 정보를 가져오고 캡티브 포털 정책을 제어합니다.

- **인증 및 세션 관리**
  - 사용자가 비상구 안내를 확인한 후, 인터넷 사용을 위한 임시 인증 토큰을 발급하고 세션을 관리합니다.
