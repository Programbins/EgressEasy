# EgressEasy: QR코드 기반 실내 경로 안내 시스템

## 1. 프로젝트 개요

EgressEasy는 대규모 실내 공간(예: 공연장, 경기장)의 비상구에 부착된 QR코드를 활용하여, 사용자가 자신의 현재 위치를 즉시 파악하고 최종 목적지(좌석)까지의 최단 경로를 안내받을 수 있도록 설계된 실내 내비게이션 시스템입니다. 복잡한 공간에서 길을 찾는 데 어려움을 겪는 사용자에게 직관적이고 빠른 길 안내 경험을 제공하는 것을 목표로 합니다.

## 2. 주요 기능

- **QR코드 기반 위치 인식**: 비상구의 QR코드를 스캔하는 것만으로 사용자의 현재 위치를 시스템이 자동으로 인식합니다.
- **실시간 위치 시각화**: 지도 위에 현재 위치(비상구)가 반짝이는 효과로 표시되어 사용자가 자신의 위치를 직관적으로 파악할 수 있습니다.
- **두 가지 연결 모드 제공**:
  1. **Wi-Fi 연결**: 간단하게 인터넷에 연결할 수 있는 옵션을 제공합니다.
  2. **키오스크 모드 (경로 안내)**: 인터넷 연결 없이 바로 좌석 선택 및 경로 안내 기능을 이용할 수 있습니다.
- **좌석 선택 및 최단 경로 탐색**: 키오스크 모드에서 사용자가 좌석을 선택하면, 현재 비상구 위치에서부터 선택된 좌석까지의 최적 경로를 계산하여 지도 위에 시각적으로 표시합니다.

## 3. 시스템 아키텍처 및 작동 방식

EgressEasy는 TP-Link Omada 컨트롤러의 SSID 분할 기능을 핵심으로 활용하여 안정적인 네트워크 환경과 서비스 연속성을 보장합니다.

1. **연결 시작**: 사용자가 비상구의 QR코드를 스캔하면, 특정 SSID를 가진 Wi-Fi 네트워크에 연결됩니다.
2. **캡티브 포털**: Wi-Fi 연결 시, 시스템은 캡티브 포털 페이지를 사용자에게 자동으로 표시합니다. 이 페이지에서 'Wi-Fi 연결' 또는 '키오스크 모드'를 선택할 수 있습니다.
3. **위치 데이터 수신**: 동시에, 시스템은 Omada 컨트롤러 API를 통해 사용자가 연결된 AP(Access Point) 정보를 기반으로 현재 위치(비상구)를 식별합니다.
4. **경로 안내 (키오스크 모드)**:
   - 사용자가 '키오스크 모드'를 선택하면, 좌석 배치도가 표시됩니다.
   - 사용자가 자신의 좌석을 선택하면, 백엔드 서버는 사전에 정의된 노드와 경로 데이터를 기반으로 최단 경로를 계산합니다.
   - 계산된 경로는 `route.svg`와 같은 벡터 이미지 형식으로 지도 위에 렌더링되어 사용자에게 명확하게 안내됩니다.

### 기술 스택

- **Frontend**: JavaScript, HTML, CSS를 사용한 반응형 웹 UI
- **Backend**: Node.js, Express.js 기반의 API 서버
- **네트워크**: TP-Link Omada SDN (Software-Defined Networking)
  - SSID 분할 및 게스트 네트워크 관리
  - 캡티브 포털(Captive Portal) 커스터마이징
  - 위치 정보 수집을 위한 Omada Controller API 연동

## 4. 프로젝트 구조

```
EgressEasy/
├── backend/         # Node.js 기반 API 서버 및 비즈니스 로직
├── frontend/        # 사용자 인터페이스 (HTML, CSS, JS)
├── route.svg        # 경로 안내 시각화에 사용되는 SVG 파일
├── README.md        # 프로젝트 설명서
└── ...
```